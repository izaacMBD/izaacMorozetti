// Simple interactivity: menu toggle + theme picker (function(){ const menuToggle = document.getElementById('menuToggle'); const siteNav = document.getElementById('siteNav'); const themeBtn = document.getElementById('themeToggle'); const themePanel = document.getElementById('themePanel'); const themeList = document.getElementById('themeList'); const closeTheme = document.getElementById('closeTheme'); // Menu toggle for mobile menuToggle.addEventListener('click', () => { const expanded = menuToggle.getAttribute('aria-expanded') === 'true'; menuToggle.setAttribute('aria-expanded', String(!expanded)); siteNav.setAttribute('aria-hidden', expanded ? 'true' : 'false'); siteNav.classList.toggle('open'); }); // Theme panel themeBtn.addEventListener('click', () => { const hidden = themePanel.getAttribute('aria-hidden') === 'true'; themePanel.setAttribute('aria-hidden', String(!hidden)); themePanel.style.display = hidden ? 'block' : 'none'; themeBtn.setAttribute('aria-expanded', String(!hidden)); }); closeTheme.addEventListener('click', () => { themePanel.setAttribute('aria-hidden', 'true'); themePanel.style.display = 'none'; themeBtn.setAttribute('aria-expanded', 'false'); }); // Apply theme buttons themeList.addEventListener('click', (e) => { const btn = e.target.closest('button[data-theme]'); if (!btn) return; const theme = btn.getAttribute('data-theme'); document.body.className = theme; // persist try { localStorage.setItem('mxb_theme', theme); } catch(e){} }); // load persisted theme try { const saved = localStorage.getItem('mxb_theme'); if (saved) document.body.className = saved; } catch(e){} // close panels on outside click document.addEventListener('click', (e) => { if (!themePanel.contains(e.target) && !themeBtn.contains(e.target)) { themePanel.setAttribute('aria-hidden','true'); themePanel.style.display = 'none'; themeBtn.setAttribute('aria-expanded', 'false'); } }); })(); window.addEventListener('scroll', () => { const texto = document.getElementById('texto'); texto.classList.add('laser-active'); setTimeout(() => texto.classList.remove('laser-active'), 300); }); document.querySelectorAll('.post').forEach(card => { card.addEventListener('mousemove', e => { const rect = card.getBoundingClientRect(); const x = e.clientX - rect.left; const y = e.clientY - rect.top; const centerX = rect.width / 2; const centerY = rect.height / 2; const rotateX = ((y - centerY) / centerY) * 8; const rotateY = ((x - centerX) / centerX) * 8; card.style.transform = scale(1.08) rotateX(${-rotateX}deg) rotateY(${rotateY}deg); }); card.addEventListener('mouseleave', () => { card.style.transform = "scale(1) rotateX(0) rotateY(0)"; }); });